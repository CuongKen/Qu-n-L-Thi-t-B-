{% extends "base.html" %}

{% block title %}Danh s√°ch Thi·∫øt b·ªã{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Danh s√°ch Thi·∫øt b·ªã</h2>

    <!-- Form t√¨m ki·∫øm -->
    <form method="POST" class="mb-3 d-flex">
        <input type="text" class="form-control me-2" name="search" placeholder="T√¨m ki·∫øm thi·∫øt b·ªã..." value="{{ search_query }}">
        <button type="submit" class="btn btn-primary">üîç T√¨m</button>
    </form>

    <a href="{{ url_for('add_computer') }}" class="btn btn-success mb-3">‚ûï Th√™m Thi·∫øt b·ªã</a>

    <table class="table table-bordered text-center align-middle">
        <thead>
            <tr>
                <th>ID</th>
                <th>H√¨nh ·∫£nh</th>
                <th>T√™n thi·∫øt b·ªã</th>
                <th>C·∫•u h√¨nh</th>
                <th>H√£ng</th>
                <th>V·ªã tr√≠</th>
                <th>Tr·∫°ng th√°i</th>
                <th>H√†nh ƒë·ªông</th>
            </tr>
        </thead>
        <tbody>
            {% for computer in computers %}
            <tr>
                <td>{{ computer.id }}</td>
                <td>
                    {% if computer.image %}
                    <img src="{{ url_for('static', filename=computer.image.split('static/')[-1]) }}" 
                         alt="·∫¢nh s·∫£n ph·∫©m" width="80" height="80" style="object-fit: cover; border-radius: 5px;">
                    {% else %}
                    <span class="text-muted">Kh√¥ng c√≥ ·∫£nh</span>
                    {% endif %}
                </td>
                <td>{{ computer.device_name }}</td>
                <td>{{ computer.specifications }}</td>
                <td>{{ computer.brand }}</td>
                <td>{{ computer.location }}</td>
                <td>
                    {% if computer.status == "Ho·∫°t ƒë·ªông" %}
                    <span class="badge bg-success">{{ computer.status }}</span>
                    {% elif computer.status == "H·ªèng" %}
                    <span class="badge bg-danger">{{ computer.status }}</span>
                    {% else %}
                    <span class="badge bg-warning text-dark">{{ computer.status }}</span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ url_for('edit_computer', id=computer.id) }}" class="btn btn-warning btn-sm mx-1">‚úè S·ª≠a</a>
                    <a href="{{ url_for('delete_computer', id=computer.id) }}" class="btn btn-danger btn-sm mx-1" onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a?')">üóë X√≥a</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
